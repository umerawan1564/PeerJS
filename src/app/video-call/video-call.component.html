
  <!-- Simplified decorative background elements with reduced opacity and blur -->
  <div class="absolute top-0 left-0 w-72 h-72 bg-indigo-100/20 rounded-full -translate-x-1/2 -translate-y-1/2"></div>
  <div class="absolute bottom-0 right-0 w-96 h-96 bg-purple-100/20 rounded-full translate-x-1/2 translate-y-1/2"></div>

  <!-- Global Sticky Sidebar Toggle Button (Mobile only, Top Right) - Optimized for performance -->
  <button (click)="toggleSidebar()"
    class="fixed top-6 right-6 z-50 p-3 bg-indigo-600 text-white rounded-lg shadow-md hover:bg-indigo-700 transition-colors duration-150 md:hidden">
    <!-- Hamburger Icon -->
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 6h18M3 12h18M3 18h18" />
    </svg>
  </button>

  <!-- Main Call Area -->
  <main class="flex-1 p-2 md:p-2 relative z-10">
    <div class="bg-white rounded-xl shadow-md overflow-hidden chat-container flex flex-col border border-slate-100 h-full">
      
      <!-- Call Header - Simplified for performance -->
      <div class="bg-indigo-600 p-4 text-white relative overflow-hidden">
        <h4 class="font-semibold flex items-center text-lg">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-3" fill="none" viewBox="0 0 24 24"
            stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M4 6h16M4 10h16M4 14h10" />
          </svg>
          Video Calls
        </h4>
      </div>

      <!-- Connection Status Section - Simplified for better performance -->
      <div class="text-gray-800 text-center py-5 px-4 bg-slate-50">
        <h3 class="text-2xl md:text-3xl font-bold text-indigo-600 mb-3">
          Connection Status
        </h3>
        <div class="inline-flex items-center gap-3 px-5 py-2 bg-white rounded-full border border-slate-200 shadow-sm">
          <div class="w-3 h-3 bg-green-400 rounded-full"></div>
          <p id="connection-status" class="text-slate-700 text-sm md:text-base font-medium">{{ connectionStatus }}</p>
        </div>
      </div>

      <!-- Call Control Buttons - Optimized for smooth interactions -->
      <div class="p-4 md:p-5 flex flex-wrap gap-4 justify-center bg-white border-b border-slate-100">
        <button (click)="startCall()"
          class="px-6 py-3 bg-green-500 text-white rounded-lg transition-colors duration-150 flex items-center space-x-3 shadow-sm hover:bg-green-600 active:bg-green-700 font-medium min-w-[140px] justify-center will-change-transform">
          <i class="fas fa-phone"></i>
          <span>Start Call</span>
        </button>

        <button (click)="endCall()"
          class="px-6 py-3 bg-red-500 text-white rounded-lg transition-colors duration-150 flex items-center space-x-3 shadow-sm hover:bg-red-600 active:bg-red-700 font-medium min-w-[140px] justify-center will-change-transform">
          <i class="fas fa-phone-slash"></i>
          <span>End Call</span>
        </button>
      </div>

      <!-- Video Call Area - Simplified for better performance -->
      <div id="video-window" class="video-grid p-4 md:p-6 overflow-y-auto flex-1 bg-slate-50 relative">

        <!-- No Video Call Placeholder (will hide/show dynamically) -->
        <div id="no-video-placeholder" class="mt-20 flex items-center justify-center h-full min-h-[300px] md:min-h-[400px] text-slate-400">
          <div class="text-center">
            <!-- Video placeholder icon - Simplified -->
            <div class="mb-6">
              <div class="w-20 h-20 mx-auto bg-slate-100 rounded-xl flex items-center justify-center shadow-sm border border-slate-200">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-indigo-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                    d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
                </svg>
              </div>
            </div>
            
            <h4 class="text-xl font-semibold text-slate-600 mb-2">No Active Video Call</h4>
            <p class="text-slate-500 max-w-md mx-auto leading-relaxed">
              Click "Start Call" to begin a video conversation. Your video streams will appear here once connected.
            </p>
            
            <!-- Feature indicators - Simplified -->
            <div class="flex flex-wrap justify-center gap-3 mt-5 text-xs text-slate-400">
              <div class="flex items-center gap-2 px-3 py-1.5 bg-white rounded-full border border-slate-200">
                <div class="w-2 h-2 bg-green-400 rounded-full"></div>
                <span>HD Quality</span>
              </div>
              <div class="flex items-center gap-2 px-3 py-1.5 bg-white rounded-full border border-slate-200">
                <div class="w-2 h-2 bg-blue-400 rounded-full"></div>
                <span>Secure Connection</span>
              </div>
              <div class="flex items-center gap-2 px-3 py-1.5 bg-white rounded-full border border-slate-200">
                <div class="w-2 h-2 bg-purple-400 rounded-full"></div>
                <span>Real-time</span>
              </div>
            </div>
          </div>
        </div>
        <!-- Video streams are injected dynamically -->
      </div>

      <!-- Bottom Status Bar - Simplified -->
      <div class="px-4 md:px-6 py-3 bg-white border-t border-slate-100">
        <div class="flex flex-col sm:flex-row justify-between items-center gap-2 text-xs text-slate-500">
          <div class="flex items-center gap-3">
            <div class="flex items-center gap-2">
              <div class="w-2 h-2 bg-green-400 rounded-full"></div>
              <span>System Ready</span>
            </div>
            <span class="hidden sm:inline">•</span>
            <span class="hidden sm:inline">Peer-to-Peer Connection</span>
          </div>
          <div class="flex items-center gap-3">
            <span>End-to-end Encrypted</span>
            <span class="hidden sm:inline">•</span>
            <span class="hidden sm:inline">WebRTC Enabled</span>
          </div>
        </div>
      </div>

    </div>
  </main>

